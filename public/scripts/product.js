window.location.href.includes("mode=")&&(document.getElementById("main").style.display="none",document.getElementById("pdfSelector").classList.contains("w-condition-invisible")?(document.querySelector(".portrait-pdf-wrapper").style.display="none",document.querySelector(".landscape-pdf-wrapper").style.display="flex"):(document.querySelector(".landscape-pdf-wrapper").style.display="none",document.querySelector(".portrait-pdf-wrapper").style.display="flex"),window.location.href.includes("mode=pdf")&&(document.querySelector(".pdf-page-2-wrapper").style.display="flex"));const priceHeading=document.getElementById("priceHeading"),price=document.getElementById("price"),downloadBtn=document.getElementById("download");firebase.auth().onAuthStateChanged(a=>{a?(void 0,getPricing(),setAuthedTearSheet(),downloadBtn.style.display="flex"):(void 0,setPubTearSheet())});const getPricing=async()=>{try{void 0,priceHeading.style.display="block",price.style.display="block";const a=document.getElementById("sku").innerText,b=await firebase.auth().currentUser.getIdToken(!0),c=await fetch(`${getPrivateWfDataUrl}?token=${b}&sku=${a}`);if(200===c.status){const a=await c.json(),b=document.querySelectorAll("[data-pdf='price']"),d=document.querySelectorAll("[data-pdf='priceHeading']");b.forEach(b=>b.innerHTML=a),b.forEach(a=>a.style.display="block"),d.forEach(a=>a.style.display="block")}else throw c.status}catch(a){Sentry.captureException(a),price.innerHTML="Please contact us for pricing"}},scripts=document.querySelectorAll(".w-json");let imgUrls=[];scripts.forEach(a=>{const b=JSON.parse(a.innerText);"product-p"===b.group&&imgUrls.push(b.items[0].url)});const downloadText=document.getElementById("downloadText"),downloadZip=async()=>{try{downloadBtn.removeEventListener("click",downloadZip),downloadText.innerText="Preparing download...";const a=await firebase.auth().currentUser.getIdToken(!0);let b="";imgUrls.forEach(a=>{b+=encodeURIComponent(a)+","});const c=b.substr(0,b.length-1),d=`${createZipUrl}?urls=${c}&token=${a}`,e=await fetch(d),f=await e.blob(),g=document.getElementById("title").innerText;saveAs(f,g+".zip"),downloadText.innerHTML="Download all images",downloadBtn.addEventListener("click",downloadZip)}catch(a){Sentry.captureException(a),downloadText.innerHTML="Download all images",downloadBtn.addEventListener("click",downloadZip)}};downloadBtn.addEventListener("click",downloadZip);let pubPath="pdfs-pub",privPath="pdfs-priv";window.location.hostname.includes(".webflow.io")&&(pubPath="pdfs-pub-staging",privPath="pdfs-priv-staging");const setAuthedTearSheet=async()=>{try{const a=firebase.storage().ref(),b=window.location.href.split("/"),c=b[b.length-1],d=a.child(`${privPath}/${c}`),e=a.child(`${pubPath}/${c}`),f=await d.getDownloadURL(),g=await e.getDownloadURL(),h=document.getElementById("tearSheet"),i=document.getElementById("downloadOptionsWrapper");h.addEventListener("click",()=>{"none"===i.style.display?i.style.display="block":"block"===i.style.display&&(i.style.display="none")}),document.getElementById("withPricing").addEventListener("click",()=>window.open(f,"_blank")),document.getElementById("withoutPricing").addEventListener("click",()=>window.open(g,"_blank")),document.getElementById("dropdownIcon").style.display="block",document.getElementById("downloadIcon").style.display="none",document.getElementById("tearSheet").style.display="flex",i.style.display="none"}catch(a){}},setPubTearSheet=async()=>{try{const a=firebase.storage().ref(),b=window.location.href.split("/"),c=b[b.length-1],d=c.split("?")[0],e=a.child(`${pubPath}/${d}`),f=await e.getDownloadURL();document.getElementById("tearSheet").addEventListener("click",()=>{window.open(f,"_blank")}),document.getElementById("dropdownIcon").style.display="none",document.getElementById("downloadIcon").style.display="block",document.getElementById("tearSheet").style.display="flex"}catch(a){}};setTimeout(()=>{const a=getCookies(),b=document.getElementById("tradeModalWrapper");a._hideTradeModal?b.style.display="none":window.location.href.includes("mode=")&&(b.style.display="none");const c=document.getElementById("tradeJoinBtn"),d=document.getElementById("tradeDismissBtn");[c,d].forEach(a=>{a&&a.addEventListener("click",()=>{let a=new Date;a.setMonth(a.getMonth()+1),a.toUTCString(),document.cookie=`_hideTradeModal=true; expires=${a}; path=/`,b.style.display="none"})})},2e3);